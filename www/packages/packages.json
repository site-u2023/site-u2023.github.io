{
  "categories": [
    {
      "id": "basic-config",
      "name": "Basic Configuration",
      "class": "tr-basic-configuration",
      "description": "Basic system and device configuration",
      "type": "form-section",
      "packages": [
        {
          "id": "basic-fields",
          "name": "Basic Configuration Fields",
          "class": "tr-basic-configuration-fields",
          "type": "input-group",
          "fields": [
            {
              "id": "aios-language",
              "label": "Language",
              "class": "tr-language",
              "type": "select",
              "selector": "#aios-language",
              "variableName": "language",
              "defaultValue": ""
            },
            {
              "id": "aios-country",
              "label": "Country",
              "class": "tr-country",
              "type": "text",
              "selector": "#aios-country",
              "variableName": "country",
              "placeholder": "00",
              "defaultValue": "00",
              "maxlength": 2,
              "apiMapping": "country"
            },
            {
              "id": "aios-timezone",
              "label": "Timezone",
              "class": "tr-timezone",
              "type": "text",
              "selector": "#aios-timezone",
              "variableName": "timezone",
              "placeholder": "UTC",
              "defaultValue": "UTC",
              "apiMapping": "timezone"
            },
            {
              "id": "aios-zonename",
              "label": "Zonename",
              "class": "tr-zonename",
              "type": "text",
              "selector": "#aios-zonename",
              "variableName": "zonename",
              "placeholder": "UTC",
              "defaultValue": "UTC",
              "apiMapping": "zonename"
            },
            {
              "id": "aios-device-name",
              "label": "Device name",
              "class": "tr-device-name",
              "type": "text",
              "selector": "#aios-device-name",
              "variableName": "device_name",
              "placeholder": "OpenWrt",
              "defaultValue": ""
            },
            {
              "id": "aios-root-password",
              "label": "Root password",
              "class": "tr-root-password",
              "type": "text",
              "selector": "#aios-root-password",
              "variableName": "root_password",
              "placeholder": "8+ characters"
            },
            {
              "id": "aios-lan-ipv4",
              "label": "LAN IPv4 Address",
              "class": "tr-lan-ipv4-address",
              "type": "text",
              "selector": "#aios-lan-ipv4",
              "variableName": "lan_ip_address",
              "placeholder": "192.168.1.1",
              "defaultValue": ""
            },
            {
              "id": "aios-lan-ipv6",
              "label": "LAN IPv6 Address",
              "class": "tr-lan-ipv6-address",
              "type": "text",
              "selector": "#aios-lan-ipv6",
              "variableName": "lan_ipv6_address",
              "placeholder": "fd00::1/64",
              "defaultValue": ""
            },
            {
              "id": "aios-ssh-interface",
              "label": "SSH Interface",
              "class": "tr-ssh-interface",
              "type": "text",
              "selector": "#aios-ssh-interface",
              "variableName": "ssh_interface",
              "placeholder": "lan",
              "defaultValue": "lan",
              "description": "Network interface for SSH access"
            },
            {
              "id": "aios-ssh-port",
              "label": "SSH Port",
              "class": "tr-ssh-port",
              "type": "number",
              "selector": "#aios-ssh-port",
              "variableName": "ssh_port",
              "placeholder": "22",
              "defaultValue": "",
              "min": 1,
              "max": 65535,
              "description": "Port number for SSH access"
            },
            {
              "id": "aios-flow-offloading",
              "label": "Flow offloading type",
              "class": "tr-flow-offloading-type",
              "type": "select",
              "selector": "#aios-flow-offloading",
              "variableName": "flow_offloading_type",
              "options": [
                {"value": "", "label": "Disabled", "class": "tr-disabled", "selected": true},
                {"value": "software", "label": "Software flow offloading", "class": "tr-software-flow-offloading"},
                {"value": "hardware", "label": "Hardware flow offloading", "class": "tr-hardware-flow-offloading"}
              ]
            },
            {
              "id": "aios-backup-path",
              "label": "Restore Backup Path",
              "class": "tr-restore-backup-path",
              "type": "text",
              "selector": "#aios-backup-path",
              "variableName": "backup_path",
              "placeholder": "/root/backup.tar.gz",
              "defaultValue": "/root/backup.tar.gz",
              "description": "Path to backup file for restore"
            }
          ]
        }
      ]
    },
    {
      "id": "internet-config",
      "name": "Internet Connection",
      "class": "tr-internet-connection",
      "description": "Configure your internet connection type",
      "type": "form-section",
      "packages": [
        {
          "id": "connection-type",
          "name": "Connection type",
          "class": "tr-connection-type",
          "type": "radio-group",
          "variableName": "connection_type",
          "options": [
            {"value": "auto", "label": "AUTO", "class": "tr-auto", "checked": true},
            {"value": "dhcp", "label": "DHCP", "class": "tr-dhcp"},
            {"value": "pppoe", "label": "PPPoE", "class": "tr-pppoe"},
            {"value": "dslite", "label": "DS-Lite", "class": "tr-dslite"},
            {"value": "mape", "label": "MAP-E", "class": "tr-mape"},
            {"value": "ap", "label": "AP", "class": "tr-ap"}
          ]
        },
        {
          "id": "dslite-section",
          "name": "DS-Lite",
          "class": "tr-dslite",
          "type": "conditional-section",
          "showWhen": {"field": "connection_type", "values": ["dslite"]},
          "connectionFields": ["dslite_aftr_address"],
          "children": [
            {
              "id": "dslite-fields",
              "name": "DS-Lite Settings",
              "class": "tr-dslite-settings",
              "type": "input-group",
              "fields": [
                {
                  "id": "dslite-aftr-type",
                  "label": "AFTR Type",
                  "class": "tr-dslite-aftr-type",
                  "type": "select",
                  "selector": "#dslite-aftr-type",
                  "variableName": "dslite_aftr_type",
                  "excludeFromOutput": true,
                  "options": [
                    {"value": "transix", "label": "gw.transix.jp", "class": "tr-gwtransixjp"},
                    {"value": "xpass", "label": "gw.xpass.jp", "class": "tr-gwxpassjp"},
                    {"value": "v6option", "label": "gw.v6option.jp", "class": "tr-gwv6optionjp"}
                  ],
                  "computeField": {
                    "targetField": "dslite-aftr-address",
                    "dependsOn": ["dslite-area"],
                    "addressMap": {
                      "transix": {
                        "east": "2404:8e00::feed:100",
                        "west": "2404:8e01::feed:100"
                      },
                      "xpass": {
                        "east": "2404:8e02::feed:100",
                        "west": "2404:8e03::feed:100"
                      },
                      "v6option": {
                        "east": "2404:8e04::feed:100",
                        "west": "2404:8e05::feed:100"
                      }
                    }
                  }
                },
                {
                  "id": "dslite-area",
                  "label": "Area",
                  "class": "tr-dslite-area",
                  "type": "select",
                  "selector": "#dslite-area",
                  "variableName": "dslite_area",
                  "excludeFromOutput": true,
                  "options": [
                    {"value": "east", "label": "East Japan", "class": "tr-east-japan"},
                    {"value": "west", "label": "West Japan", "class": "tr-west-japan"}
                  ],
                  "computeTrigger": true
                },
                {
                  "id": "dslite-aftr-address",
                  "label": "AFTR IPv6 Address",
                  "class": "tr-dslite-aftr-ipv6-address",
                  "type": "text",
                  "selector": "#dslite-aftr-address",
                  "variableName": "dslite_aftr_address",
                  "placeholder": "2404:8e00::feed:100",
                  "defaultValue": "2404:8e00::feed:100",
                  "apiMapping": "aftr",
                  "computed": true
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
