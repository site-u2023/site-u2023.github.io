<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ASU Check</title>
<style>
  body { font-family: sans-serif; padding: 2em; }
  .status { font-weight: bold; margin-top: 1em; }
  .ok { color: green; }
  .warn { color: orange; }
  .fail { color: red; }
</style>
</head>
<body>

<h1>ASU Server Status Check</h1>
<p id="asu-url"></p>
<p id="asu-status" class="status">Checking...</p>

<script>
/* exported config */
var config = {
  asu_url: "https://sysupgrade.openwrt.org",
};

document.getElementById('asu-url').textContent = "ASU URL: " + config.asu_url;

(async function checkASU() {
    const statusEl = document.getElementById('asu-status');
    try {
        // Send a HEAD request to check server availability
        const response = await fetch(config.asu_url, { method: 'HEAD', cache: 'no-store' });
        if (response.ok) {
            statusEl.textContent = "üåê ASU server is reachable. Status: " + response.status;
            statusEl.className = "status ok";
        } else {
            statusEl.textContent = "‚ö†Ô∏è ASU server responded with an error. Status: " + response.status;
            statusEl.className = "status warn";
        }
    } catch (err) {
        statusEl.textContent = "‚ùå Unable to reach ASU server: " + err;
        statusEl.className = "status fail";
    }
})();
</script>

</body>
</html>
