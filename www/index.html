<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>OpenWrt Firmware Selector</title>
    <link rel="icon" href="favicon.ico" />
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="build.css" />
    <script src="config.js"></script>
    
    <script src="index.js"></script>
  </head>
  <body onload="init()">
    <header>
      <div>
        <a href="https://openwrt.org">
          <img src="logo.svg" width="180" alt="Logo" />
        </a>
        <div style="flex-grow: 1"></div>
        <div>
          <select id="languages-select">
            <option value="ar">العربية (Arabic)</option>
            <option value="ast">Asturianu (Asturian)</option>
            <option value="bg">български (Bulgarian)</option>
            <option value="bn">বাংলা (Bengali)</option>
            <option value="ca">Català (Catalan)</option>
            <option value="cs">Čeština (Czech)</option>
            <option value="da">Dansk (Danish)</option>
            <option value="de">Deutsch (German)</option>
            <option value="el">Ελληνικά (Greek)</option>
            <option value="en">English</option>
            <option value="es">Español (Spanish)</option>
            <option value="fa">فارسی (Persian)</option>
            <option value="fi">Suomalainen (Finnish)</option>
            <option value="fil">Pilipino (Filipino)</option>
            <option value="fr">Français (French)</option>
            <option value="ga">Gaeilge (Irish)</option>
            <option value="gl">Galego (Galician)</option>
            <option value="hi">हिंदी (Hindi)</option>
            <option value="hu">Magyar (Hungarian)</option>
            <option value="id">Bahasa Indonesia (Indonesian)</option>
            <option value="it">Italiano (Italian)</option>
            <option value="ja">日本 (Japanese)</option>
            <option value="ka">ქართული (Georgian)</option>
            <option value="ko">한국어 (Korean)</option>
            <option value="lt">Lietuvių (Lithuanian)</option>
            <option value="lv">Latviešu (Latvian)</option>
            <option value="ml">മലയാളം (Malayalam)</option>
            <option value="mr">मराठी (Marathi)</option>
            <option value="no">Norsk (Norwegian)</option>
            <option value="pl">Polski (Polish)</option>
            <option value="pt">Português (Portuguese)</option>
            <option value="pt-br">
              Português do Brasil (Brazilian Portuguese)
            </option>
            <option value="ro">Română (Romanian)</option>
            <option value="ru">Русский (Russian)</option>
            <option value="sgs">Žemaitiu kalba (Samogitian)</option>
            <option value="sr_Cyrl">Српски (Serbian)</option>
            <option value="sr_Latn">Srpski (Serbian)</option>
            <option value="sk">Slovenčina (Slovak)</option>
            <option value="sv">Svenska (Swedish)</option>
            <option value="ta">தமிழ் (Tamil)</option>
            <option value="te">తెలుగు (Telugu)</option>
            <option value="tr">Türkçe (Turkish)</option>
            <option value="uk">Українська (Ukrainian)</option>
            <option value="vi">Tiếng Việt (Vietnamese)</option>
            <option value="zh-cn">简体中文 (Chinese Simplified)</option>
            <option value="zh-tw">繁體中文 (Chinese Traditional)</option>
          </select>
          <button id="languages-button"></button>
        </div>
      </div>
    </header>

    <div id="alert" class="hide"></div>

    <div class="container">
      <div>
        <h2 class="tr-load">Download OpenWrt Firmware for your Device</h2>
        <p class="tr-message">
          Type the name or model of your device, then select a stable build or
          the nightly "snapshot" build.
        </p>

        <div id="models-autocomplete" class="autocomplete">
          <input
            id="models"
            type="text"
            class="tr-model"
            placeholder="Model"
            spellcheck="false"
            autocapitalize="off"
            autofocus
          />
          <select id="versions" size="1"></select>
        </div>

        <div id="notfound" class="hide">
          <h3 class="tr-not-found">No model found!</h3>
        </div>

        <div id="images" class="hide">
          <div>
            <h3 id="build-title" class="tr-version-build">About this build</h3>
            <div class="row">
              <div class="col1 tr-model">Model</div>
              <div class="col2" id="image-model"></div>
            </div>
            <div class="row">
              <div class="col1 tr-target">Target</div>
              <div class="col2" id="image-target"></div>
            </div>
            <div class="row">
              <div class="col1 tr-version">Version</div>
              <div class="col2">
                <span id="image-version"></span> (<span id="image-code"></span>)
              </div>
            </div>
            <div class="row">
              <div class="col1 tr-date">Date</div>
              <div class="col2" id="image-date"></div>
            </div>
            <div class="row">
              <div class="col1 tr-links">Links</div>
              <div class="col2">
                <a id="image-folder" href="#"></a>
                <a id="image-info" href="#"></a>
                <a id="image-link" href="#"></a>
              </div>
            </div>
            
            <div id="extended-build-info" class="hide">
              <h3 class="tr-extended-info">Location & ISP Information</h3>
              <div class="row">
                <div class="col1 tr-notice">Notice</div>
                <div class="col2" id="auto-config-notice"></div>
              </div>
              <div class="row">
                <div class="col1 tr-country">Country</div>
                <div class="col2" id="auto-config-country"></div>
              </div>
              <div class="row">
                <div class="col1 tr-timezone">Timezone</div>
                <div class="col2" id="auto-config-timezone"></div>
              </div>
              <div class="row">
                <div class="col1 tr-zonename">Zonename</div>
                <div class="col2" id="auto-config-zonename"></div>
              </div>
              <div class="row">
                <div class="col1 tr-isp">ISP</div>
                <div class="col2" id="auto-config-isp"></div>
              </div>
              <div class="row">
                <div class="col1 tr-as">AS</div>
                <div class="col2" id="auto-config-as"></div>
              </div>
              <div class="row">
                <div class="col1 tr-ip-address">IP Address</div>
                <div class="col2" id="auto-config-ip"></div>
              </div>
              <div class="row">
                <div class="col1 tr-method">Method</div>
                <div class="col2" id="auto-config-method"></div>
              </div>
            </div>
              
            <div class="row">
              <div id="asu" class="hide" style="width: 100%">
                <details id="packages-details">
                  <summary>
                    <span class="tr-packages">Installed Packages</span>
                  </summary>
                  <div id="package-selector-config">
                    <div class="package-search-container">
                      <h5>Package Search</h5>
                      <p class="text-muted">Select extra packages to install. They'll be added to the list below.</p>
                      <div id="package-search-autocomplete" class="autocomplete">
                        <input type="text"
                          id="package-search"
                          placeholder="Type package name"
                          autocomplete="off"
                          spellcheck="false"
                          autocapitalize="off">
                      </div>
                    </div>
                    
                    <div id="package-categories">
                      </div>
                    
                    <details id="postinst-details">
                      <summary>
                        <span>Postinst (Package installation script)</span>
                      </summary>
                      <textarea
                        rows="10"
                        id="asu-packages"
                        data-initial="package1\npackage2\npackage3"
                        autocomplete="off"
                        spellcheck="false"
                        autocapitalize="off"
                      ></textarea>
                    </details>
                  </div>
                </details>
                
                <details id="scripts-details">
                  <summary>
                    <span class="tr-defaults">Script to run on first boot (uci-defaults)</span>
                  </summary>
                  <div id="scripts-config">
                    <div class="commands-container">
                      <h5>Add commands</h5>
                      <p class="text-muted">Add custom shell commands that run on first boot.</p>
                      <div id="commands-autocomplete" class="autocomplete">
                        <input type="text"
                          id="command"
                          placeholder="Type commands"
                          autocomplete="off"
                          spellcheck="false"
                          autocapitalize="off">
                      </div>
                    </div>
                    
                    <div id="basic-config" class="config-section">
                      <h5>Basic Configuration</h5>
                      <div class="form-row">
                        <div class="form-group">
                          <label for="aios-language">Language</label>
                          <select id="aios-language">
                            <option value="en">English</option>
                            <option value="ja">日本語 (Japanese)</option>
                            <option value="zh-cn">简体中文 (Chinese Simplified)</option>
                            <option value="ko">한국어 (Korean)</option>
                            </select>
                        </div>
                        <div class="form-group">
                          <label for="aios-country">Country</label>
                          <input type="text" id="aios-country" placeholder="00" maxlength="2">
                        </div>
                      </div>
                      
                      <div class="form-row">
                        <div class="form-group">
                          <label for="aios-timezone">Timezone</label>
                          <input type="text" id="aios-timezone" placeholder="UTC">
                        </div>
                        <div class="form-group">
                          <label for="aios-zonename">Zonename</label>
                          <input type="text" id="aios-zonename" placeholder="UTC">
                        </div>
                      </div>
                      
                      <div class="form-row">
                        <div class="form-group">
                          <label for="aios-device-name">Device name</label>
                          <input type="text" id="aios-device-name" placeholder="OpenWrt" value="OpenWrt">
                        </div>
                        <div class="form-group">
                          <label for="aios-root-password">Root password</label>
                          <input type="text" id="aios-root-password" placeholder="8+ characters">
                        </div>
                      </div>
                      
                      <div class="form-row">
                        <div class="form-group">
                          <label for="aios-lan-ipv4">LAN IPv4 Address</label>
                          <input type="text" id="aios-lan-ipv4" placeholder="192.168.1.1" value="192.168.1.1">
                        </div>
                        <div class="form-group">
                          <label for="aios-lan-ipv6">LAN IPv6 Address</label>
                          <input type="text" id="aios-lan-ipv6" placeholder="fd00::1/64">
                        </div>
                      </div>
                    </div>
                    
                    <div id="wifi-config" class="config-section">
                      <h5>Wi-Fi Configuration</h5>
                      <div class="form-row">
                        <div class="form-group">
                          <label for="aios-wifi-ssid">Wi-Fi SSID</label>
                          <input type="text" id="aios-wifi-ssid" placeholder="OpenWrt" value="OpenWrt">
                        </div>
                        <div class="form-group">
                          <label for="aios-wifi-password">Wi-Fi Password</label>
                          <input type="text" id="aios-wifi-password" placeholder="8+ characters">
                        </div>
                      </div>
                    </div>
                    
                    <div id="internet-config" class="config-section">
                      <h5>Internet Connection</h5>
                      <div class="form-group">
                        <label>Connection mode</label>
                        <div class="radio-group">
                          <label>
                            <input type="radio" name="connectionMode" value="auto" checked>
                            Auto (Recommended)
                          </label>
                          <label>
                            <input type="radio" name="connectionMode" value="manual">
                            Manual
                          </label>
                        </div>
                      </div>
                      
                      <div id="manual-connection-section" style="display: none;">
                        <div class="form-group">
                          <label>Connection type</label>
                          <div class="radio-group">
                            <label>
                              <input type="radio" name="connectionType" value="dhcp" checked>
                              DHCP
                            </label>
                            <label>
                              <input type="radio" name="connectionType" value="pppoe">
                              PPPoE
                            </label>
                            <label>
                              <input type="radio" name="connectionType" value="dslite">
                              DS-Lite
                            </label>
                            <label>
                              <input type="radio" name="connectionType" value="mape">
                              MAP-E
                            </label>
                          </div>
                        </div>
                        
                        <div id="pppoe-section" class="connection-config" style="display: none;">
                          <div class="form-row">
                            <div class="form-group">
                              <label for="pppoe-username">PPPoE username</label>
                              <input type="text" id="pppoe-username" placeholder="Username">
                            </div>
                            <div class="form-group">
                              <label for="pppoe-password">PPPoE password</label>
                              <input type="password" id="pppoe-password" placeholder="Password">
                            </div>
                          </div>
                        </div>
                        
                        <div id="dslite-section" class="connection-config" style="display: none;">
                          <div class="form-group">
                            <label for="dslite-aftr-address">AFTR IPv6 Address</label>
                            <input type="text" id="dslite-aftr-address" placeholder="2404:8e00::feed:100">
                          </div>
                        </div>
                        
                        <div id="mape-section" class="connection-config" style="display: none;">
                          <div class="form-row">
                            <div class="form-group">
                              <label for="mape-br">BR (Border Relay)</label>
                              <input type="text" id="mape-br" placeholder="2001:db8::1">
                            </div>
                            <div class="form-group">
                              <label for="mape-ealen">EA-len</label>
                              <input type="number" id="mape-ealen" placeholder="16" min="0" max="48">
                            </div>
                          </div>
                          </div>
</div>
                        </div>

                        <div class="package-category">
                            <h4>Tuning</h4>
                            <div class="form-group">
                                <label>Dynamic Network Optimizer</label>
                                <div class="radio-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="netOptimizer" id="netopt-enabled" value="enabled" checked>
                                        <label class="form-check-label" for="netopt-enabled">Enabled</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="netOptimizer" id="netopt-disabled" value="disabled">
                                        <label class="form-check-label" for="netopt-disabled">Disabled</label>
                                    </div>
                                </div>
                                <small class="form-text text-muted">Automatically optimizes TCP buffer sizes and network parameters based on available RAM</small>
                            </div>

                            <div id="net-optimizer-section" class="conditional-section" style="display: block;">
                                <div class="form-group">
                                    <label>Configuration Mode</label>
                                    <div class="radio-group">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="netOptimizerMode" id="netopt-auto" value="auto" checked>
                                            <label class="form-check-label" for="netopt-auto">Auto (Recommended)</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="netOptimizerMode" id="netopt-manual" value="manual">
                                            <label class="form-check-label" for="netopt-manual">Manual</label>
                                        </div>
                                    </div>
                                    <small class="form-text text-muted">Auto mode adjusts parameters based on system resources</small>
                                </div>

                                <div id="net-optimizer-manual" class="conditional-section" style="display: none;">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="netopt-rmem">TCP Read Memory</label>
                                            <input type="text" id="netopt-rmem" class="form-control" placeholder="4096 131072 8388608">
                                            <small class="form-text text-muted">min default max (bytes)</small>
                                        </div>
                                        <div class="form-group">
                                            <label for="netopt-wmem">TCP Write Memory</label>
                                            <input type="text" id="netopt-wmem" class="form-control" placeholder="4096 131072 8388608">
                                            <small class="form-text text-muted">min default max (bytes)</small>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="netopt-conntrack">Connection Tracking Max</label>
                                            <input type="number" id="netopt-conntrack" class="form-control" placeholder="131072" min="1024">
                                        </div>
                                        <div class="form-group">
                                            <label for="netopt-backlog">Network Device Backlog</label>
                                            <input type="number" id="netopt-backlog" class="form-control" placeholder="5000" min="100">
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="netopt-somaxconn">Socket Max Connections</label>
                                            <input type="number" id="netopt-somaxconn" class="form-control" placeholder="16384" min="128">
                                        </div>
                                        <div class="form-group">
                                            <label for="netopt-congestion">TCP Congestion Control</label>
                                            <select id="netopt-congestion" class="form-control">
                                                <option value="cubic" selected>cubic (default)</option>
                                                <option value="bbr">bbr</option>
                                                <option value="reno">reno</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    <details id="uci-defaults-details">
                      <summary>
                        <span>UCI-defaults (Boot configuration script)</span>
                      </summary>
                      <div id="uci-defaults-group">
                        <textarea
                          rows="10"
                          id="uci-defaults-content"
                          autocomplete="off"
                          spellcheck="false"
                          autocapitalize="off"
                        ></textarea>
                        
                      </div>
                    </details>
                  </div>
                </details>

                <br>
                
                <div id="asu-buildstatus" class="hide">
                  <span></span>
                  <div id="asu-log" class="hide">
                    <details>
                      <summary>
                        <code>STDERR</code>
                      </summary>
                      <pre id="asu-stderr"></pre>
                    </details>
                    <details>
                      <summary>
                        <code>STDOUT</code>
                      </summary>
                      <pre id="asu-stdout"></pre>
                    </details>
                  </div>
                </div>
                <a href="javascript:buildAsuRequest()" class="custom-link">
                  <span></span
                  ><span class="tr-request-build">REQUEST BUILD</span>
                </a>
              </div>
            </div>
            
          <div id="downloads1">
            <h3 class="tr-downloads">Download an image</h3>
            <table id="download-table1"></table>
          </div>

          <div id="downloads2" style="display: none">
            <h3 class="tr-downloads">Download an image</h3>
            <div id="download-links2"></div>
            <div id="download-extras2"></div>
          </div>
        </div>

        <div id="footer">
          <span
            ><a href="https://downloads.openwrt.org" class="tr-server-link"
              >All Downloads</a
            ></span
          >
          |
          <span
            ><a
              href="https://forum.openwrt.org/t/the-openwrt-firmware-selector/81721"
              class="tr-feedback-link"
              >Feedback</a
            ></span
          >
          |
          <span
            ><a href="https://github.com/openwrt/firmware-selector-openwrt-org/"
              >OFS <span id="ofs-version">0.0.0</span></a
            ></span
          >
        </div>
      </div>
    </div>
  </body>
</html>
