{
  "config": {
    "packageMappings": {
      "connection_type": {
        "mape": ["map"],
        "dslite": ["ds-lite"]
      },
      "wifi_mode": {
        "usteer": ["usteer-from-setup"]
      }
    },
    
    "ipv6": {
      "excludeCidrs": [
        "2001:db8::/32",
        "2002::/16",
        "2001::/32",
        "2001:20::/28",
        "2001:2::/48",
        "2001:3::/32",
        "2001:4:112::/48"
      ],
      "guaPrefixCheck": "2000::/3"
    },
    
    "languagePackages": {
      "luciPackagePrefix": "luci",
      "basePackagePrefix": "luci-i18n-base-",
      "opkgPackagePrefix": "luci-i18n-opkg-",
      "packagemanagerPackagePrefix": "luci-i18n-package-manager-",
      "firewallPackagePrefix": "luci-i18n-firewall-",
      "packagePattern": "luci-i18n-{module}-{language}"
    },
    
    "feedRules": {
      "patterns": [
        { "prefix": "kmod-", "feed": "kmods" },
        { "prefix": "luci-", "feed": "luci" }
      ],
      "defaultFeed": "packages"
    },
    
    "uiConfig": {
      "classNames": {
        "packageCategory": "package-category",
        "packageGrid": "package-grid",
        "packageItem": "package-item",
        "packageDependencies": "package-dependencies",
        "packageDependent": "package-dependent",
        "multiInputContainer": "multi-input-container",
        "multiInputWrapper": "multi-input-wrapper",
        "multiInputItem": "multi-input-item",
        "packageSearchInput": "multi-input-item package-search-input",
        "commandInput": "multi-input-item command-input",
        "packageSearchResults": "package-search-results",
        "conditionalSection": "conditional-section",
        "formRow": "form-row",
        "formGroup": "form-group",
        "formLabel": "form-label",
        "radioGroup": "radio-group",
        "infoDisplay": "info-display",
        "configSection": "config-section",
        "packageCheckbox": "form-check-input package-selector-checkbox",
        "packageLink": "package-link"
      },
      
      "defaults": {
        "multiInputPlaceholder": "Type and press Enter",
        "packageSearchPlaceholder": "Type package name and press Enter",
        "commandInputPlaceholder": "Type command and press Enter",
        "columnsPerRow": 2,
        "packageUrlTemplate": "{id}",
        "autocompleteMinLength": 2,
        "autoResizeTextarea": true,
        "maxSearchResults": 50
      },
      
      "indicators": {
        "packageLoading": {
          "id": "package-loading-indicator",
          "messages": {
            "checking": "Checking package availability...",
            "failed": "Package availability check failed"
          }
        },
        "buildStatus": {
          "id": "asu-buildstatus",
          "logId": "asu-log",
          "stderrId": "asu-stderr",
          "stdoutId": "asu-stdout"
        }
      }
    },
    
    "eventMappings": {
      "radioGroups": {
        "connection_type": {
          "handler": "handleConnectionTypeChange",
          "triggerInitial": true
        },
        "net_optimizer": {
          "handler": "handleNetOptimizerChange",
          "triggerInitial": true
        },
        "wifi_mode": {
          "handler": "handleWifiModeChange",
          "triggerInitial": true
        },
        "mape_type": {
          "handler": "handleMapeTypeChange",
          "triggerInitial": true
        },
        "enable_dnsmasq": {
          "handler": "handleDnsmasqChange",
          "triggerInitial": true
        }
      },
      
      "inputFields": {
        "dslite-aftr-type": {
          "event": "change",
          "handler": "syncAftrAddress",
          "force": true
        },
        "dslite-area": {
          "event": "change",
          "handler": "syncAftrAddress",
          "force": true
        }
      }
    },
    
    "connectionTypes": {
      "detection": {
        "mape": {
          "check": "mape.brIpv6Address",
          "displayName": "MAP-E"
        },
        "dslite": {
          "check": "aftr",
          "displayName": "DS-Lite"
        },
        "default": {
          "displayName": "DHCP/PPPoE"
        }
      },
      
      "sections": [
        "auto-section",
        "dhcp-section",
        "pppoe-section",
        "dslite-section",
        "mape-section",
        "ap-section"
      ],
      
      "autoMessages": {
        "detecting": "Detecting connection type...",
        "standardConnection": "Standard connection will be used"
      }
    },
    
    "luciNameMappings": {
      "special": {
        "luci": "base",
        "usteer-from-setup": "usteer",
        "luci-app-usteer-setup": "usteer"
      },
      "pattern": "^luci-(?:app|mod|theme|proto)-(.+)$"
    },
    
    "uciDefaults": {
      "markers": {
        "variableDefinitions": {
          "begin": "# BEGIN_VARIABLE_DEFINITIONS",
          "end": "# END_VARIABLE_DEFINITIONS"
        },
        "customCommands": {
          "begin": "# BEGIN_CUSTOM_COMMANDS",
          "end": "# END_CUSTOM_COMMANDS"
        }
      },
      "scriptPath": "uci-defaults/setup.sh",
      "template": "#!/bin/sh\n# BEGIN_VARIABLE_DEFINITIONS\n# END_VARIABLE_DEFINITIONS\n\n# BEGIN_CUSTOM_COMMANDS\n# END_CUSTOM_COMMANDS\n\nexit 0"
    },
    
    "cacheKeyFormats": {
      "availability": "{version}:{arch}:{feed}:{package}",
      "feedSet": "{version}:{arch}:{vendor}:{subtarget}:{snapshot}:{feed}",
      "kmodsToken": "{version}|{vendor}|{snapshot}",
      "searchFeed": "{version}:{arch}:{feed}"
    },
    
    "validation": {
      "wifiPassword": {
        "minLength": 8,
        "maxLength": 63,
        "errorMessages": {
          "tooShort": "Password must be at least 8 characters",
          "tooLong": "Password must be 63 characters or less"
        }
      },
      "ssid": {
        "maxLength": 32,
        "errorMessage": "SSID must be 32 characters or less"
      },
      "mobilityDomain": {
        "pattern": "^[a-f0-9]{4}$",
        "errorMessage": "Must be 4-digit hex (e.g. 4f57)"
      },
      "sshPort": {
        "min": 1,
        "max": 65535,
        "errorMessage": "Port must be between 1 and 65535"
      }
    },
    
    "apiMappings": {
      "timezone": "timezone",
      "zonename": "zonename",
      "country": "country",
      "isp": "isp",
      "as": "as",
      "ipv4": "ipv4",
      "ipv6": "ipv6",
      "notice": "notice",
      "mape": {
        "br": "mape.brIpv6Address",
        "ealen": "mape.eaBitLength",
        "ipv4Prefix": "mape.ipv4Prefix",
        "ipv4PrefixLen": "mape.ipv4PrefixLength",
        "ipv6Prefix": "mape.ipv6Prefix",
        "ipv6PrefixLen": "mape.ipv6PrefixLength",
        "psidOffset": "mape.psIdOffset",
        "psidLen": "mape.psidlen"
      },
      "dslite": {
        "aftr": "aftr.aftrIpv6Address",
        "type": "aftr.aftrType",
        "area": "aftr.jurisdiction"
      },
      "guaPrefix": {
        "source": "ipv6",
        "compute": "generateGuaPrefix"
      }
    },
    
    "urls": {
      "setupDb": "uci-defaults/setup.json",
      "packagesDb": "packages/packages.json",
      "information": "auto-config/information.json",
      "customHtml": "custom.html",
      "autoConfigApi": "/api/auto-config",
      "packageUrl": "https://openwrt.org/packages/{id}",
      "customTranslations": "langs/custom.{lang}.json"
    },
    
    "domSelectors": {
      "packageCategories": "#package-categories",
      "asuPackages": "#asu-packages",
      "customScriptsDetails": "#custom-scripts-details",
      "uciDefaultsContent": "#uci-defaults-content",
      "dynamicConfigSections": "#dynamic-config-sections",
      "extendedBuildInfo": "#extended-build-info",
      "packageSearchAutocomplete": "#package-search-autocomplete",
      "commandsAutocomplete": "#commands-autocomplete",
      "hiddenPackagesContainer": "#hidden-packages-container",
      "imageLink": "#image-link",
      "ofsVersion": "#ofs-version",
      "feedbackLink": "a.tr-feedback-link"
    },
    
    "updateSources": {
      "formField": "form-field",
      "packageSelected": "package-selected",
      "packageSearchAdd": "package-search-add",
      "packageSearchRemove": "package-search-remove",
      "packageSearchChange": "package-search-change",
      "connectionType": "connection-type",
      "netOptimizer": "net-optimizer",
      "wifiMode": "wifi-mode",
      "mapeType": "mape-type",
      "dnsmasqMode": "dnsmasq-mode",
      "devicePackagesReady": "device-packages-ready",
      "deviceChanged": "device-changed",
      "deviceLanguageChanged": "device-language-changed",
      "browserLanguageChanged": "browser-language-changed",
      "ispAutoConfig": "isp-auto-config",
      "forceUpdate": "force-update",
      "packageSelectorInit": "package-selector-init"
    },
    
    "debugMode": false,
    "enableLogging": true,
    "logLevel": "info"
  },
  
  "categories": [
    {
      "id": "basic-config",
      "name": "Basic Configuration",
      "class": "tr-basic-configuration",
      "description": "Basic system and device configuration",
      "type": "form-section",
      "packages": [
        {
          "id": "basic-fields",
          "name": "Basic Configuration Fields",
          "class": "tr-basic-configuration-fields",
          "type": "input-group",
          "fields": [
            {
              "id": "aios-language",
              "label": "Language",
              "class": "tr-language",
              "type": "select",
              "selector": "#aios-language",
              "variableName": "language",
              "defaultValue": "",
              "syncWithBrowser": false
            },
            {
              "id": "aios-country",
              "label": "Country",
              "class": "tr-country",
              "type": "text",
              "selector": "#aios-country",
              "variableName": "country",
              "placeholder": "00",
              "defaultValue": "00",
              "maxlength": 2,
              "apiMapping": "country"
            },
            {
              "id": "aios-timezone",
              "label": "Timezone",
              "class": "tr-timezone",
              "type": "text",
              "selector": "#aios-timezone",
              "variableName": "timezone",
              "placeholder": "UTC",
              "defaultValue": "UTC",
              "apiMapping": "timezone"
            },
            {
              "id": "aios-zonename",
              "label": "Zonename",
              "class": "tr-zonename",
              "type": "text",
              "selector": "#aios-zonename",
              "variableName": "zonename",
              "placeholder": "UTC",
              "defaultValue": "UTC",
              "apiMapping": "zonename"
            },
            {
              "id": "aios-device-name",
              "label": "Device name",
              "class": "tr-device-name",
              "type": "text",
              "selector": "#aios-device-name",
              "variableName": "device_name",
              "placeholder": "OpenWrt",
              "defaultValue": ""
            },
            {
              "id": "aios-root-password",
              "label": "Root password",
              "class": "tr-root-password",
              "type": "text",
              "selector": "#aios-root-password",
              "variableName": "root_password",
              "placeholder": "8+ characters"
            },
            {
              "id": "aios-lan-ipv4",
              "label": "LAN IPv4 Address",
              "class": "tr-lan-ipv4-address",
              "type": "text",
              "selector": "#aios-lan-ipv4",
              "variableName": "lan_ip_address",
              "placeholder": "192.168.1.1",
              "defaultValue": ""
            },
            {
              "id": "aios-lan-ipv6",
              "label": "LAN IPv6 Address",
              "class": "tr-lan-ipv6-address",
              "type": "text",
              "selector": "#aios-lan-ipv6",
              "variableName": "lan_ipv6_address",
              "placeholder": "fd00::1/64",
              "defaultValue": ""
            },
            {
              "id": "aios-ssh-interface",
              "label": "SSH Interface",
              "class": "tr-ssh-interface",
              "type": "text",
              "selector": "#aios-ssh-interface",
              "variableName": "ssh_interface",
              "placeholder": "lan",
              "defaultValue": "lan",
              "description": "Network interface for SSH access"
            },
            {
              "id": "aios-ssh-port",
              "label": "SSH Port",
              "class": "tr-ssh-port",
              "type": "number",
              "selector": "#aios-ssh-port",
              "variableName": "ssh_port",
              "placeholder": "22",
              "defaultValue": "",
              "min": 1,
              "max": 65535,
              "description": "Port number for SSH access"
            },
            {
              "id": "aios-flow-offloading",
              "label": "Flow offloading type",
              "class": "tr-flow-offloading-type",
              "type": "select",
              "selector": "#aios-flow-offloading",
              "variableName": "flow_offloading_type",
              "options": [
                {
                  "value": "",
                  "label": "Disabled",
                  "class": "tr-disabled",
                  "selected": true
                },
                {
                  "value": "software",
                  "label": "Software flow offloading",
                  "class": "tr-software-flow-offloading"
                },
                {
                  "value": "hardware",
                  "label": "Hardware flow offloading",
                  "class": "tr-hardware-flow-offloading"
                }
              ]
            },
            {
              "id": "aios-backup-path",
              "label": "Restore Backup Path",
              "class": "tr-restore-backup-path",
              "type": "text",
              "selector": "#aios-backup-path",
              "variableName": "backup_path",
              "placeholder": "/root/backup.tar.gz",
              "defaultValue": "/root/backup.tar.gz",
              "description": "Path to backup file for restore"
            }
          ]
        }
      ]
    },
    {
      "id": "wifi-config",
      "name": "Wi-Fi Configuration",
      "class": "tr-wi-fi-configuration",
      "description": "Wireless network configuration",
      "type": "form-section",
      "packages": [
        {
          "id": "wifi-mode",
          "name": "Wi-Fi Mode",
          "class": "tr-wi-fi-mode",
          "type": "radio-group",
          "variableName": "wifi_mode",
          "defaultValue": "standard",
          "options": [
            {
              "value": "standard",
              "label": "Standard",
              "class": "tr-standard",
              "checked": true,
              "includeFields": ["wlan_ssid", "wlan_password"],
              "excludeFields": ["enable_usteer", "mobility_domain", "snr"],
              "virtualPackages": []
            },
            {
              "value": "usteer",
              "label": "Usteer",
              "class": "tr-usteer",
              "includeFields": ["wlan_ssid", "wlan_password", "enable_usteer", "mobility_domain", "snr"],
              "excludeFields": [],
              "virtualPackages": ["usteer-from-setup"]
            },
            {
              "value": "disabled",
              "label": "Disabled",
              "class": "tr-disabled",
              "includeFields": [],
              "excludeFields": ["wlan_ssid", "wlan_password", "enable_usteer", "mobility_domain", "snr"],
              "virtualPackages": []
            }
          ]
        },
        {
          "id": "wifi-options-container",
          "name": "Wi-Fi Options",
          "class": "tr-wi-fi-options",
          "type": "conditional-section",
          "showWhen": {
            "field": "wifi_mode",
            "values": ["standard", "usteer"]
          },
          "children": [
            {
              "id": "wifi-basic-fields",
              "name": "Basic Wi-Fi Settings",
              "class": "tr-basic-wi-fi-settings",
              "type": "input-group",
              "fields": [
                {
                  "id": "aios-wifi-ssid",
                  "label": "Wi-Fi SSID",
                  "class": "tr-wi-fi-ssid",
                  "type": "text",
                  "selector": "#aios-wifi-ssid",
                  "variableName": "wlan_ssid",
                  "placeholder": "OpenWrt",
                  "defaultValue": "OpenWrt",
                  "maxlength": 32
                },
                {
                  "id": "aios-wifi-password",
                  "label": "Wi-Fi Password",
                  "class": "tr-wi-fi-password",
                  "type": "text",
                  "selector": "#aios-wifi-password",
                  "variableName": "wlan_password",
                  "placeholder": "8+ characters",
                  "defaultValue": "password",
                  "minlength": 8,
                  "maxlength": 63
                }
              ]
            },
            {
              "id": "usteer-options",
              "name": "Usteer Options",
              "class": "tr-usteer-options",
              "type": "conditional-section",
              "showWhen": {
                "field": "wifi_mode",
                "values": ["usteer"]
              },
              "children": [
                {
                  "id": "usteer-fields",
                  "name": "Usteer Settings",
                  "class": "tr-usteer-settings",
                  "type": "input-group",
                  "fields": [
                    {
                      "id": "aios-wifi-mobility-domain",
                      "label": "Mobility Domain",
                      "class": "tr-mobility-domain",
                      "type": "text",
                      "selector": "#aios-wifi-mobility-domain",
                      "variableName": "mobility_domain",
                      "placeholder": "4f57",
                      "defaultValue": "4f57",
                      "maxlength": 4,
                      "pattern": "[0-9A-Fa-f]{4}",
                      "description": "4-digit hex (e.g. 4f57)"
                    },
                    {
                      "id": "aios-wifi-snr",
                      "label": "Min SNR",
                      "class": "tr-min-snr",
                      "type": "text",
                      "selector": "#aios-wifi-snr",
                      "variableName": "snr",
                      "placeholder": "30 15 5",
                      "defaultValue": "30 15 5",
                      "description": "SNR values in band order"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "internet-config",
      "name": "Internet Connection",
      "class": "tr-internet-connection",
      "description": "Configure your internet connection type",
      "type": "form-section",
      "packages": [
        {
          "id": "connection-type",
          "name": "Connection type",
          "class": "tr-connection-type",
          "type": "radio-group",
          "variableName": "connection_type",
          "options": [
            {
              "value": "auto",
              "label": "AUTO",
              "class": "tr-auto",
              "checked": true,
              "virtualPackages": []
            },
            {
              "value": "dhcp",
              "label": "DHCP",
              "class": "tr-dhcp",
              "virtualPackages": []
            },
            {
              "value": "pppoe",
              "label": "PPPoE",
              "class": "tr-pppoe",
              "virtualPackages": []
            },
            {
              "value": "dslite",
              "label": "DS-Lite",
              "class": "tr-dslite",
              "virtualPackages": ["ds-lite"]
            },
            {
              "value": "mape",
              "label": "MAP-E",
              "class": "tr-mape",
              "virtualPackages": ["map"]
            },
            {
              "value": "ap",
              "label": "AP",
              "class": "tr-ap",
              "virtualPackages": []
            }
          ]
        },
        {
          "id": "auto-section",
          "name": "AUTO Detection",
          "class": "tr-auto-detection",
          "type": "conditional-section",
          "showWhen": {
            "field": "connection_type",
            "values": ["auto"]
          },
          "connectionFields": [],
          "children": [
            {
              "id": "auto-info",
              "name": "Auto Detection Information",
              "class": "tr-auto-detection-information",
              "type": "info-display",
              "content": "Detecting connection type..."
            }
          ]
        },
        {
          "id": "dhcp-section",
          "name": "DHCP",
          "class": "tr-dhcp",
          "type": "conditional-section",
          "showWhen": {
            "field": "connection_type",
            "values": ["dhcp"]
          },
          "connectionFields": [],
          "children": [
            {
              "id": "dhcp-info",
              "name": "DHCP Information",
              "class": "tr-dhcp-information",
              "type": "info-display",
              "content": "DHCP configuration will be applied automatically. No additional settings required."
            }
          ]
        },
        {
          "id": "pppoe-section",
          "name": "PPPoE",
          "class": "tr-pppoe",
          "type": "conditional-section",
          "showWhen": {
            "field": "connection_type",
            "values": ["pppoe"]
          },
          "connectionFields": ["pppoe_username", "pppoe_password"],
          "children": [
            {
              "id": "pppoe-fields",
              "name": "PPPoE Credentials",
              "class": "tr-pppoe-credentials",
              "type": "input-group",
              "fields": [
                {
                  "id": "pppoe-username",
                  "label": "Username",
                  "class": "tr-pppoe-username",
                  "type": "text",
                  "selector": "#pppoe-username",
                  "variableName": "pppoe_username",
                  "placeholder": "Username"
                },
                {
                  "id": "pppoe-password",
                  "label": "Password",
                  "class": "tr-pppoe-password",
                  "type": "password",
                  "selector": "#pppoe-password",
                  "variableName": "pppoe_password",
                  "placeholder": "Password"
                }
              ]
            }
          ]
        },
        {
          "id": "dslite-section",
          "name": "DS-Lite",
          "class": "tr-dslite",
          "type": "conditional-section",
          "showWhen": {
            "field": "connection_type",
            "values": ["dslite"]
          },
          "connectionFields": ["dslite_aftr_type", "dslite_area", "dslite_aftr_address"],
          "children": [
            {
              "id": "dslite-fields",
              "name": "DS-Lite Settings",
              "class": "tr-dslite-settings",
              "type": "input-group",
              "fields": [
                {
                  "id": "dslite-aftr-type",
                  "label": "AFTR Type",
                  "class": "tr-dslite-aftr-type",
                  "type": "select",
                  "selector": "#dslite-aftr-type",
                  "variableName": "dslite_aftr_type",
                  "options": [
                    {
                      "value": "transix",
                      "label": "gw.transix.jp",
                      "class": "tr-gwtransixjp"
                    },
                    {
                      "value": "xpass",
                      "label": "gw.xpass.jp",
                      "class": "tr-gwxpassjp"
                    },
                    {
                      "value": "v6option",
                      "label": "gw.v6option.jp",
                      "class": "tr-gwv6optionjp"
                    }
                  ],
                  "computeField": {
                    "targetField": "dslite-aftr-address",
                    "dependsOn": ["dslite-area"],
                    "addressMap": {
                      "transix": {
                        "east": "2404:8e00::feed:100",
                        "west": "2404:8e01::feed:100"
                      },
                      "xpass": {
                        "east": "2404:8e02::feed:100",
                        "west": "2404:8e03::feed:100"
                      },
                      "v6option": {
                        "east": "2404:8e04::feed:100",
                        "west": "2404:8e05::feed:100"
                      }
                    }
                  }
                },
                {
                  "id": "dslite-area",
                  "label": "Area",
                  "class": "tr-dslite-area",
                  "type": "select",
                  "selector": "#dslite-area",
                  "variableName": "dslite_area",
                  "options": [
                    {
                      "value": "east",
                      "label": "East Japan",
                      "class": "tr-east-japan"
                    },
                    {
                      "value": "west",
                      "label": "West Japan",
                      "class": "tr-west-japan"
                    }
                  ],
                  "computeTrigger": true
                },
                {
                  "id": "dslite-aftr-address",
                  "label": "AFTR Address",
                  "class": "tr-dslite-aftr-ipv6-address",
                  "type": "text",
                  "selector": "#dslite-aftr-address",
                  "variableName": "dslite_aftr_address",
                  "placeholder": "2404:8e00::feed:100",
                  "defaultValue": "2404:8e00::feed:100",
                  "apiMapping": "aftr",
                  "computed": true
                }
              ]
            }
          ]
        },
        {
          "id": "mape-section",
          "name": "MAP-E",
          "class": "tr-mape",
          "type": "conditional-section",
          "showWhen": {
            "field": "connection_type",
            "values": ["mape"]
          },
          "connectionFields": ["mape_br", "mape_ealen", "mape_ipv4_prefix", "mape_ipv4_prefixlen", "mape_ipv6_prefix", "mape_ipv6_prefixlen", "mape_psid_offset", "mape_psidlen", "mape_gua_prefix", "mape_gua_mode", "mape_type"],
          "children": [
            {
              "id": "mape-type",
              "name": "Type",
              "class": "tr-mape-type",
              "type": "radio-group",
              "variableName": "mape_type",
              "options": [
                {
                  "value": "gua",
                  "label": "GUA",
                  "class": "tr-gua",
                  "checked": true
                },
                { "value": "pd", "label": "PD", "class": "tr-pd" }
              ]
            },
            {
              "id": "mape-fields",
              "name": "MAP-E Settings",
              "class": "tr-mape-settings",
              "type": "input-group",
              "fields": [
                {
                  "id": "mape-br",
                  "label": "Peer Address (BR)",
                  "class": "tr-br",
                  "type": "text",
                  "selector": "#mape-br",
                  "variableName": "mape_br",
                  "placeholder": "2001:380:a120::9",
                  "apiMapping": "mape.brIpv6Address"
                },
                {
                  "id": "mape-ealen",
                  "label": "EA-len",
                  "class": "tr-ea-len",
                  "type": "number",
                  "selector": "#mape-ealen",
                  "variableName": "mape_ealen",
                  "placeholder": "18",
                  "apiMapping": "mape.eaBitLength"
                },
                {
                  "id": "mape-ipv4-prefix",
                  "label": "IPv4 Address",
                  "class": "tr-ipv4-prefix",
                  "type": "text",
                  "selector": "#mape-ipv4-prefix",
                  "variableName": "mape_ipv4_prefix",
                  "placeholder": "",
                  "apiMapping": "mape.ipv4Prefix"
                },
                {
                  "id": "mape-ipv4-prefixlen",
                  "label": "IPv4 Prefix Length",
                  "class": "tr-ipv4-prefix-length",
                  "type": "number",
                  "selector": "#mape-ipv4-prefixlen",
                  "variableName": "mape_ipv4_prefixlen",
                  "placeholder": "20",
                  "apiMapping": "mape.ipv4PrefixLength"
                },
                {
                  "id": "mape-ipv6-prefix",
                  "label": "IPv6 Prefix",
                  "class": "tr-ipv6-prefix",
                  "type": "text",
                  "selector": "#mape-ipv6-prefix",
                  "variableName": "mape_ipv6_prefix",
                  "placeholder": "",
                  "apiMapping": "mape.ipv6Prefix"
                },
                {
                  "id": "mape-ipv6-prefixlen",
                  "label": "IPv6 Prefix Length",
                  "class": "tr-ipv6-prefix-length",
                  "type": "number",
                  "selector": "#mape-ipv6-prefixlen",
                  "variableName": "mape_ipv6_prefixlen",
                  "placeholder": "38",
                  "apiMapping": "mape.ipv6PrefixLength"
                },
                {
                  "id": "mape-psid-offset",
                  "label": "PSID Offset",
                  "class": "tr-psid-offset",
                  "type": "number",
                  "selector": "#mape-psid-offset",
                  "variableName": "mape_psid_offset",
                  "placeholder": "6",
                  "apiMapping": "mape.psIdOffset"
                },
                {
                  "id": "mape-psidlen",
                  "label": "PSID Length",
                  "class": "tr-psid-length",
                  "type": "number",
                  "selector": "#mape-psidlen",
                  "variableName": "mape_psidlen",
                  "placeholder": "6",
                  "apiMapping": "mape.psidlen"
                },
                {
                  "id": "mape-gua-prefix",
                  "label": "GUA Prefix",
                  "class": "tr-gua-prefix",
                  "type": "text",
                  "selector": "#mape-gua-prefix",
                  "variableName": "mape_gua_prefix",
                  "placeholder": "optional for GUA",
                  "apiMapping": "ipv6",
                  "description": "IPv6 GUA prefix with /64 suffix"
                }
              ]
            }
          ]
        },
        {
          "id": "ap-section",
          "name": "AP Mode",
          "class": "tr-ap-mode",
          "type": "conditional-section",
          "showWhen": {
            "field": "connection_type",
            "values": ["ap"]
          },
          "connectionFields": ["ap_ip_address", "ap_gateway"],
          "children": [
            {
              "id": "ap-fields",
              "name": "AP Network Settings",
              "class": "tr-ap-network-settings",
              "type": "input-group",
              "fields": [
                {
                  "id": "ap-ip-address",
                  "label": "IP Address",
                  "class": "tr-ap-ip-address",
                  "type": "text",
                  "selector": "#ap-ip-address",
                  "variableName": "ap_ip_address",
                  "placeholder": "192.168.1.2",
                  "defaultValue": "192.168.1.2"
                },
                {
                  "id": "ap-gateway",
                  "label": "Gateway",
                  "class": "tr-ap-gateway",
                  "type": "text",
                  "selector": "#ap-gateway",
                  "variableName": "ap_gateway",
                  "placeholder": "192.168.1.1",
                  "defaultValue": "192.168.1.1"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "tuning-config",
      "name": "Tuning",
      "class": "tr-tuning",
      "description": "System performance and network optimization",
      "type": "form-section",
      "packages": [
        {
          "id": "net-optimizer",
          "name": "Dynamic Network Optimizer",
          "class": "tr-dynamic-network-optimizer",
          "type": "radio-group",
          "variableName": "net_optimizer",
          "defaultValue": "auto",
          "options": [
            {
              "value": "auto",
              "label": "AUTO",
              "class": "tr-auto",
              "checked": true,
              "includeFields": ["enable_netopt"],
              "excludeFields": ["netopt_rmem", "netopt_wmem", "netopt_conntrack", "netopt_backlog", "netopt_somaxconn", "netopt_congestion"]
            },
            {
              "value": "manual",
              "label": "Manual",
              "class": "tr-manual",
              "includeFields": ["enable_netopt", "netopt_rmem", "netopt_wmem", "netopt_conntrack", "netopt_backlog", "netopt_somaxconn", "netopt_congestion"],
              "excludeFields": []
            },
            {
              "value": "disabled",
              "label": "Disabled",
              "class": "tr-disabled",
              "includeFields": [],
              "excludeFields": ["enable_netopt", "netopt_rmem", "netopt_wmem", "netopt_conntrack", "netopt_backlog", "netopt_somaxconn", "netopt_congestion"]
            }
          ]
        },
        {
          "id": "netopt-auto-section",
          "name": "AUTO Mode",
          "class": "tr-auto-mode",
          "type": "conditional-section",
          "showWhen": {
            "field": "net_optimizer",
            "values": ["auto"]
          },
          "children": [
            {
              "id": "netopt-auto-info",
              "name": "Auto Optimization",
              "class": "tr-auto-optimization",
              "type": "info-display",
              "content": "Auto mode adjusts parameters based on system resources (Memory, CPU cores, etc.)"
            }
          ]
        },
        {
          "id": "netopt-manual-section",
          "name": "Manual Mode",
          "class": "tr-manual-mode",
          "type": "conditional-section",
          "showWhen": {
            "field": "net_optimizer",
            "values": ["manual"]
          },
          "children": [
            {
              "id": "netopt-fields",
              "name": "Manual Settings",
              "class": "tr-manual-settings",
              "type": "input-group",
              "fields": [
                {
                  "id": "netopt-rmem",
                  "label": "TCP Read Memory",
                  "class": "tr-tcp-read-memory",
                  "type": "text",
                  "selector": "#netopt-rmem",
                  "variableName": "netopt_rmem",
                  "placeholder": "4096 131072 8388608",
                  "defaultValue": "4096 131072 8388608",
                  "description": "min default max (bytes)"
                },
                {
                  "id": "netopt-wmem",
                  "label": "TCP Write Memory",
                  "class": "tr-tcp-write-memory",
                  "type": "text",
                  "selector": "#netopt-wmem",
                  "variableName": "netopt_wmem",
                  "placeholder": "4096 131072 8388608",
                  "defaultValue": "4096 131072 8388608",
                  "description": "min default max (bytes)"
                },
                {
                  "id": "netopt-conntrack",
                  "label": "Connection Tracking Max",
                  "class": "tr-connection-tracking-max",
                  "type": "number",
                  "selector": "#netopt-conntrack",
                  "variableName": "netopt_conntrack",
                  "placeholder": "131072",
                  "defaultValue": "131072",
                  "min": 1024
                },
                {
                  "id": "netopt-backlog",
                  "label": "Network Device Backlog",
                  "class": "tr-network-device-backlog",
                  "type": "number",
                  "selector": "#netopt-backlog",
                  "variableName": "netopt_backlog",
                  "placeholder": "5000",
                  "defaultValue": "5000",
                  "min": 100
                },
                {
                  "id": "netopt-somaxconn",
                  "label": "Socket Max Connections",
                  "class": "tr-socket-max-connections",
                  "type": "number",
                  "selector": "#netopt-somaxconn",
                  "variableName": "netopt_somaxconn",
                  "placeholder": "16384",
                  "defaultValue": "16384",
                  "min": 128
                },
                {
                  "id": "netopt-congestion",
                  "label": "TCP Congestion Control",
                  "class": "tr-tcp-congestion-control",
                  "type": "select",
                  "selector": "#netopt-congestion",
                  "variableName": "netopt_congestion",
                  "options": [
                    {
                      "value": "cubic",
                      "label": "cubic (default)",
                      "class": "tr-cubic-default",
                      "selected": true
                    },
                    { "value": "bbr", "label": "bbr", "class": "tr-bbr" },
                    { "value": "reno", "label": "reno", "class": "tr-reno" }
                  ]
                }
              ]
            }
          ]
        },
        {
          "id": "netopt-disabled-section",
          "name": "Disabled Mode",
          "class": "tr-disabled-mode",
          "type": "conditional-section",
          "showWhen": {
            "field": "net_optimizer",
            "values": ["disabled"]
          },
          "children": [
            {
              "id": "netopt-disabled-info",
              "name": "Optimization Disabled",
              "class": "tr-optimization-disabled",
              "type": "info-display",
              "content": "Network optimization will be disabled"
            }
          ]
        },
        {
          "id": "dnsmasq-mode",
          "name": "DNS Server Settings",
          "class": "tr-dnsmasq-settings",
          "type": "radio-group",
          "variableName": "enable_dnsmasq",
          "defaultValue": "auto",
          "options": [
            {
              "value": "auto",
              "label": "Automatic",
              "class": "tr-dnsmasq-auto"
            },
            { "value": "manual", "label": "Manual", "class": "tr-dnsmasq-manual" },
            { "value": "disabled", "label": "Disabled", "class": "tr-dnsmasq-disabled" }
          ]
        },
        {
          "id": "dnsmasq-manual-section",
          "name": "Manual DNS Settings",
          "class": "tr-dnsmasq-manual-settings",
          "type": "conditional-section",
          "showWhen": {
            "field": "enable_dnsmasq",
            "values": ["manual"]
          },
          "children": [
            {
              "id": "dnsmasq-fields",
              "name": "Manual Settings",
              "class": "tr-manual-settings",
              "type": "input-group",
              "fields": [
                {
                  "id": "dnsmasq-cache",
                  "label": "Cache Size",
                  "class": "tr-dnsmasq-cache",
                  "type": "number",
                  "selector": "#dnsmasq-cache",
                  "variableName": "dnsmasq_cache",
                  "placeholder": "10000",
                  "defaultValue": "10000",
                  "description": "Number of DNS cache entries"
                },
                {
                  "id": "dnsmasq-negcache",
                  "label": "Negative Cache",
                  "class": "tr-dnsmasq-negcache",
                  "type": "number",
                  "selector": "#dnsmasq-negcache",
                  "variableName": "dnsmasq_negcache",
                  "placeholder": "0",
                  "defaultValue": "0",
                  "description": "0 = disable, >0 = N sec"
                }
              ]
            }
          ]
        },
        {
          "id": "dnsmasq-auto-section",
          "name": "Auto DNS Settings",
          "class": "tr-dnsmasq-auto-settings",
          "type": "conditional-section",
          "showWhen": {
            "field": "enable_dnsmasq",
            "values": ["auto"]
          },
          "children": [
            {
              "id": "dnsmasq-auto-info",
              "name": "Auto Optimization",
              "class": "tr-dnsmasq-auto-optimization",
              "type": "info-display",
              "content": "In AUTO mode, the cache size is automatically optimized based on the system's memory size."
            }
          ]
        },
        {
          "id": "dnsmasq-disabled-section",
          "name": "Disabled DNS Settings",
          "class": "tr-dnsmasq-disabled-settings",
          "type": "conditional-section",
          "showWhen": {
            "field": "enable_dnsmasq",
            "values": ["disabled"]
          },
          "children": [
            {
              "id": "dnsmasq-disabled-info",
              "name": "DNS Optimization Disabled",
              "class": "tr-dnsmasq-optimization-disabled",
              "type": "info-display",
              "content": "DNS optimization will be disabled."
            }
          ]
        }
      ]
    }
  ]
}
